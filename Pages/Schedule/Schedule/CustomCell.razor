@page "/Schedule/CustomCell"

@using Syncfusion.EJ2.Blazor.Schedule
@inject Microsoft.AspNetCore.Components.NavigationManager UriHelper

@*Hidden:Lines*@
@using ej2_blazor_samples
@{
    SampleBrowser.CurrentSampleName = "Cell";
    SampleBrowser.CurrentControlName = "Scheduler";
    SampleBrowser.CurrentControlCategory = "Scheduler";
    SampleBrowser.CurrentControl = SampleBrowser.Config.Schedule;
    SampleBrowser.ActionDescription = new string[] {
        @"<p>
            This demo illustrates how to customize the background of the specific date cells by adding images and custom text to
            it by using the cell template option.
        </p>"
    };
    SampleBrowser.Description = new string[] {
        @"<p>
            In this demo, the
            <code>CellTemplate</code> option which accepts the template string is used to customize the cell background with specific images and appropriate
            text on the given date values.
        </p>"
    };
}
@*End:Hidden*@

<div class="col-lg-12 control-section">
    <div class="schedule-wrapper">
        <EjsSchedule TValue="ScheduleData.AppointmentData" ModelType="@Model" Width="100%" Height="650px" SelectedDate="@(new DateTime(2017, 12, 15))">
            <ScheduleTemplates>
                <CellTemplate>
                    <div class="templatewrap">
                        @{
                            @if ((int)(context as TemplateArgs).Date.Month == 11 && (int)(context as TemplateArgs).Date.Day == 23)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/thanksgiving-day.svg")" /><div class="caption">Thanksgiving day</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 12 && (int)(context as TemplateArgs).Date.Day == 9)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/get-together.svg")" /><div class="caption">Party time</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 12 && (int)(context as TemplateArgs).Date.Day == 13)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/get-together.svg")" /><div class="caption">Party time</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 12 && (int)(context as TemplateArgs).Date.Day == 22)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/birthday.svg")" /><div class="caption">Happy birthday</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 12 && (int)(context as TemplateArgs).Date.Day == 24)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/christmas-eve.svg")" /><div class="caption">Christmas Eve</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 12 && (int)(context as TemplateArgs).Date.Day == 25)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/christmas.svg")" /><div class="caption">Christmas day</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 1 && (int)(context as TemplateArgs).Date.Day == 1)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/newyear.svg")" /><div class="caption">New Year"s Day</div>
                            }
                            @if ((int)(context as TemplateArgs).Date.Month == 1 && (int)(context as TemplateArgs).Date.Day == 14)
                            {
                                <img src="@UriHelper.ToAbsoluteUri($"css/schedule/images/get-together.svg")" /><div class="caption">Get together</div>
                            }
                        }
                    </div>
                </CellTemplate>
            </ScheduleTemplates>
            <ScheduleViews>
                <ScheduleView Option="View.Month"></ScheduleView>
            </ScheduleViews>
        </EjsSchedule>
    </div>
</div>
<style>
    .e-schedule .e-month-view .e-work-cells {
        position: relative;
    }

    .e-schedule .templatewrap {
        text-align: center;
        position: absolute;
        width: 100%;
    }

        .e-schedule .templatewrap img {
            width: 25px;
            height: 25px;
        }

    .e-schedule .caption {
        overflow: hidden;
        text-overflow: ellipsis;
        vertical-align: middle;
    }
</style>

@code {
    public class TemplateArgs
    {
        public DateTime Date { get; set; }
    }
    public TemplateArgs Model = new TemplateArgs();
}